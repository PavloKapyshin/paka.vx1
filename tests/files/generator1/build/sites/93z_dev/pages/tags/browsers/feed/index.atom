<?xml version="1.0" encoding="utf-8"?><feed xml:lang="en" xmlns="http://www.w3.org/2005/Atom"><title>Recent notes (Browsers) from dev.93z.org</title><link href="http://dev.93z.org/tags/browsers/" rel="alternate"></link><link href="http://dev.93z.org/tags/browsers/feed/" rel="self"></link><id>http://dev.93z.org/tags/browsers/</id><updated>2016-03-18T00:00:00+00:00</updated><author><name>dev.93z.org</name></author><entry><title>Missing growl.js tutorial</title><link href="http://dev.93z.org/notes/missing-growl.js-tutorial/" rel="alternate"></link><updated>2016-03-18T00:00:00+00:00</updated><id>http://dev.93z.org/notes/missing-growl.js-tutorial/</id><summary type="html">&lt;p&gt;In 2010 I created &lt;a href="https://github.com/originalcoding/growl.js"&gt;small JavaScript library&lt;/a&gt; for in-browser “notifications”. Though its API was documented, no tutorial was written. Actually, this is not surprising, as growl.js is unpopular even at Original Coding: it was used in several projects, and then focus shifted to projects where work is 90% backend. But I wouldn’t be writing this just to say that, right? I prepared short introduction to library, just in case you need to understand how to use it. But it’s still better to use something modern, e.g. some &lt;a href="http://facebook.github.io/react/"&gt;React&lt;/a&gt; component.&lt;/p&gt;&lt;p&gt;First of all, there is a &lt;a href="demo/"&gt;complete demo&lt;/a&gt;—check it out. Basically, it contains two “panels” (green and red): each has text input and button. You type some text into input, press button, and new notification is added. Each notification type has its own settings that define its behaviour. Two types of notifications are defined in demo: &lt;code&gt;success&lt;/code&gt; and &lt;code&gt;error&lt;/code&gt;. “Success” notifications are shown for 5 seconds, and then disappear. “Error” ones stay on page until you “close” them. Now let’s look at the code.&lt;/p&gt;&lt;p&gt;At the bottom of &lt;a href="demo/main.js"&gt;&lt;code&gt;main.js&lt;/code&gt;&lt;/a&gt; there is following:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;var growl = new Growl({
    element: growlEl,
    types: {
        error: {sticky: true},
        success: {sticky: false, timeout: 5000}
    },
    bind: true,
    add: addGrowlMessage,
    remove: removeGrowlMessage
});
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;As you can see, new instance of &lt;code&gt;Growl&lt;/code&gt; class is created and some options (growl.js calls them “settings”) are passed:&lt;/p&gt;&lt;dl&gt;&lt;dt&gt;&lt;code&gt;element&lt;/code&gt;&lt;/dt&gt;&lt;dd&gt;This is container for all notifications. It can be &lt;code&gt;HTMLElement&lt;/code&gt; (like in demo), jQuery-wrapped &lt;code&gt;HTMLElement&lt;/code&gt;, or anything else.&lt;/dd&gt;&lt;dt&gt;&lt;code&gt;types&lt;/code&gt;&lt;/dt&gt;&lt;dd&gt;Each notification has type (e.g. &lt;code&gt;success&lt;/code&gt;), and this is where you define both types and their settings. &lt;code&gt;sticky&lt;/code&gt; notifications are not removed automatically. Non-&lt;code&gt;sticky&lt;/code&gt; notifications are removed after &lt;code&gt;timeout&lt;/code&gt; (in milliseconds) is passed (removal is done by call to &lt;code&gt;remove&lt;/code&gt; function which is described below).&lt;/dd&gt;&lt;dt&gt;&lt;code&gt;add&lt;/code&gt;&lt;/dt&gt;&lt;dd&gt;This is a function that accepts &lt;code&gt;element&lt;/code&gt;, notification message (which in demo is taken from text input’s &lt;code&gt;value&lt;/code&gt;), and settings (so you can get type of notification via &lt;code&gt;settings.type&lt;/code&gt;); it returns notification element (anything you want, as &lt;em&gt;you&lt;/em&gt; handle it in &lt;code&gt;remove&lt;/code&gt;) that will be passed to &lt;code&gt;remove&lt;/code&gt;. It does what you make it to do: in demo I create new &lt;code&gt;div&lt;/code&gt;, add classes, set its &lt;code&gt;innerHTML&lt;/code&gt;, and add to &lt;code&gt;element&lt;/code&gt;. For &lt;code&gt;sticky&lt;/code&gt; notifications I also create &lt;code&gt;span&lt;/code&gt; with &lt;code&gt;click&lt;/code&gt; handler that removes notification element from &lt;code&gt;element&lt;/code&gt;.&lt;/dd&gt;&lt;dt&gt;&lt;code&gt;remove&lt;/code&gt;&lt;/dt&gt;&lt;dd&gt;This is a function that accepts &lt;code&gt;element&lt;/code&gt;, notification element (whatever you returned from &lt;code&gt;add&lt;/code&gt;), and settings; it doesn’t return anything. It does what you make it to do: in demo I remove notification element from &lt;code&gt;element&lt;/code&gt; (and if after that &lt;code&gt;element&lt;/code&gt; contains no notification elements, the former is hidden).&lt;/dd&gt;&lt;dt&gt;&lt;code&gt;bind&lt;/code&gt;&lt;/dt&gt;&lt;dd&gt;&lt;p&gt;If &lt;code&gt;bind&lt;/code&gt; is &lt;code&gt;true&lt;/code&gt;, growl.js adds shortcuts for &lt;code&gt;addNotification&lt;/code&gt; method, so notifications could be added via &lt;code&gt;growl[type of notification]("Hello!", extra settings)&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;Look at code from demo:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;growl.success("Page is loaded.", {timeout: 1000});&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;This is equivalent to following:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;growl.addNotification("Page is loaded.", {type: "success", timeout: 1000});&lt;/code&gt;&lt;/pre&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;p&gt;After &lt;code&gt;Growl&lt;/code&gt; instance is created, you can use it to add notifications with shortcuts (e.g. &lt;code&gt;growl.error(&amp;quot;Put the cookie down!&amp;quot;)&lt;/code&gt;) or with &lt;code&gt;addNotification&lt;/code&gt; (like I do in &lt;code&gt;setUpPanel&lt;/code&gt; function in &lt;code&gt;main.js&lt;/code&gt;):&lt;/p&gt;&lt;pre&gt;&lt;code&gt;var val = messageInputEl.value.trim();
if (val) {
    growl.addNotification(val, {type: type});  // type is string, like &amp;quot;error&amp;quot; or &amp;quot;success&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;And that’s it. For “how it may look” look at the &lt;a href="demo/"&gt;demo&lt;/a&gt;, for “how it’s done” see &lt;a href="demo/main.js"&gt;&lt;code&gt;main.js&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;</summary><category term="browsers"></category><category term="javascript"></category></entry><entry><title>How to fix SSL certificate for Firefox</title><link href="http://dev.93z.org/notes/how-to-fix-ssl-certificate-for-firefox/" rel="alternate"></link><updated>2012-06-14T00:00:00+00:00</updated><id>http://dev.93z.org/notes/how-to-fix-ssl-certificate-for-firefox/</id><summary type="html">&lt;p&gt;Firefox requires intermediate SSL certificates while some other browsers don’t. I use nginx, and all companies I work with use it too. Its &lt;a href="http://nginx.org/en/docs/http/ngx_http_ssl_module.html#ssl_certificate"&gt;documentation&lt;/a&gt; states:&lt;/p&gt;&lt;blockquote&gt;If intermediate certificates should be specified in addition to a primary certificate, they should be specified in the same file in the following order: the primary certificate comes first, then the intermediate certificates.&lt;/blockquote&gt;&lt;p&gt;This means that your certificate should look like this:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;-----BEGIN CERTIFICATE-----
your certificate
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
intermediate certificate
-----END CERTIFICATE-----&lt;/code&gt;&lt;/pre&gt;</summary><category term="browsers"></category><category term="nginx"></category></entry></feed>